require(cowplot)
data("bike_score")
devtools::load_all(".")
data("bike_score")
#bike_score$BikeScore <- sample(bike_score$BikeScore)
set.seed(1)
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  TRUE,
optim_method = "DE",
coefs_start = c(50, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.01, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
banister_model$method
banister_model$performance
unlist(banister_model$coefs)
banister_model$control
# Get model predictions
bike_score$pred <- predict(banister_model, bike_score)$.pred
devtools::load_all(".")
#bike_score$BikeScore <- sample(bike_score$BikeScore)
set.seed(1)
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  TRUE,
optim_method = "DE",
optim_maxit = 100,
coefs_start = c(50, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.01, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
warnings()
devtools::load_all(".")
#bike_score$BikeScore <- sample(bike_score$BikeScore)
set.seed(1)
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  TRUE,
optim_method = "DE",
optim_maxit = 100,
coefs_start = c(50, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.01, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
banister_model$control
?DEoptim::DEoptim
devtools::load_all(".")
#bike_score$BikeScore <- sample(bike_score$BikeScore)
set.seed(1)
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  TRUE,
optim_method = "DE",
optim_maxit = 100,
coefs_start = c(50, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
devtools::load_all(".")
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  TRUE,
optim_method = "DE",
optim_maxit = 100,
coefs_start = c(50, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
banister_model$control
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  TRUE,
optim_method = "DE",
optim_maxit = 100,
optim_VTR = 30,
coefs_start = c(50, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
?cmaes::cma_es
devtools::load_all(".")
#bike_score$BikeScore <- sample(bike_score$BikeScore)
set.seed(1)
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  TRUE,
optim_method = "CMA-ES",
optim_maxit = 100,
optim_VTR = 50,
coefs_start = c(50, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  TRUE,
optim_method = "CMA-ES",
optim_maxit = 1000,
optim_VTR = 50,
coefs_start = c(50, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  TRUE,
optim_method = "CMA-ES",
optim_maxit = 10000,
optim_VTR = 50,
coefs_start = c(50, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
banister_model$method
banister_model$performance
banister_model
banister_model$loss_func_value
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  TRUE,
optim_method = "CMA-ES",
optim_maxit = 10000,
#optim_VTR = 50,
coefs_start = c(50, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
#bike_score$BikeScore <- sample(bike_score$BikeScore)
set.seed(1)
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  TRUE,
optim_method = "CMA-ES",
optim_maxit = 10000,
#optim_VTR = 50,
coefs_start = c(50, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
banister_model$loss_func_value
#bike_score$BikeScore <- sample(bike_score$BikeScore)
set.seed(1)
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  TRUE,
optim_method = "CMA-ES",
optim_maxit = 10000,
optim_VTR = 50,
coefs_start = c(50, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
banister_model$loss_func_value
?optimx::optimx
devtools::load_all(".")
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  TRUE,
optim_method = "L-BFGS-B",
optim_maxit = 10000,
#optim_VTR = 50,
coefs_start = c(50, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  TRUE,
optim_method = "L-BFGS-B",
optim_maxit = 10000,
#optim_VTR = 50,
coefs_start = c(150, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
#bike_score$BikeScore <- sample(bike_score$BikeScore)
set.seed(1)
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  TRUE,
optim_method = "L-BFGS-B",
optim_maxit = 10000,
#optim_VTR = 50,
coefs_start = c(250, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
#bike_score$BikeScore <- sample(bike_score$BikeScore)
set.seed(1)
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  TRUE,
optim_method = "L-BFGS-B",
optim_maxit = 10,
#optim_VTR = 50,
coefs_start = c(250, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
devtools::load_all(".")
devtools::load_all(".")
#bike_score$BikeScore <- sample(bike_score$BikeScore)
set.seed(1)
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  TRUE,
optim_method = "L-BFGS-B",
optim_maxit = 10,
#optim_VTR = 50,
coefs_start = c(250, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
devtools::load_all(".")
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  TRUE,
optim_method = "L-BFGS-B",
optim_maxit = 10,
#optim_VTR = 50,
coefs_start = c(250, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
devtools::load_all(".")
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  TRUE,
optim_method = "L-BFGS-B",
optim_maxit = 10,
#optim_VTR = 50,
coefs_start = c(250, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
#bike_score$BikeScore <- sample(bike_score$BikeScore)
set.seed(1)
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  FALSE,
iter = TRUE,
optim_method = "L-BFGS-B",
optim_maxit = 10,
#optim_VTR = 50,
coefs_start = c(250, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
devtools::load_all(".")
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  FALSE,
iter = TRUE,
optim_method = "L-BFGS-B",
optim_maxit = 10,
#optim_VTR = 50,
coefs_start = c(250, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
devtools::load_all(".")
devtools::load_all(".")
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  FALSE,
iter = TRUE,
optim_method = "L-BFGS-B",
optim_maxit = 10,
#optim_VTR = 50,
coefs_start = c(250, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
devtools::load_all(".")
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  FALSE,
iter = TRUE,
shuffle = TRUE,
optim_method = "L-BFGS-B",
optim_maxit = 10,
#optim_VTR = 50,
coefs_start = c(250, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
# Shuffle the predictors
rows <- sample(nrow(df))
rows
# Shuffle the predictors
rows <- sample(nrow(predictors))
rows
predictors <- predictors[rows, ]
predictors
devtools::load_all(".")
#bike_score$BikeScore <- sample(bike_score$BikeScore)
set.seed(1)
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  FALSE,
iter = TRUE,
shuffle = TRUE,
optim_method = "L-BFGS-B",
optim_maxit = 10,
#optim_VTR = 50,
coefs_start = c(250, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  FALSE,
iter = TRUE,
shuffle = TRUE,
optim_method = "L-BFGS-B",
optim_maxit = 100,
#optim_VTR = 50,
coefs_start = c(250, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
View(banister_model)
devtools::load_all(".")
devtools::load_all(".")
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  FALSE,
iter = TRUE,
shuffle = TRUE,
optim_method = "L-BFGS-B",
optim_maxit = 100,
#optim_VTR = 50,
coefs_start = c(250, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  FALSE,
iter = TRUE,
shuffle = TRUE,
optim_method = "L-BFGS-B",
optim_maxit = 100,
#optim_VTR = 50,
coefs_start = c(250, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  TRUE,
iter = TRUE,
shuffle = TRUE,
optim_method = "L-BFGS-B",
optim_maxit = 100,
#optim_VTR = 50,
coefs_start = c(250, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
banister_model$shuffle
View(banister_model)
devtools::load_all(".")
banister_model <- dorem(
Test_5min_Power ~ BikeScore,
bike_score,
method = "banister",
control = dorem_control(
optim_trace =  FALSE,
iter = TRUE,
shuffle = TRUE,
optim_method = "L-BFGS-B",
optim_maxit = 1000,
#optim_VTR = 50,
coefs_start = c(250, 1, 14, 1, 3, 7, 1),
coefs_lower = c(200, 0, 0.1, 0, 0, 0.1, 0),
coefs_upper = c(300, 10, 140, 2, 30, 70, 2)
)
)
banister_model$shuffle$data$outcome
df <- data.frame(
obs = banister_model$shuffle$data$outcome,
pred = banister_model$shuffle$data$predicted)
df$index = seq(1, nrow(df))
ggplot(df, aes(x = index, y = obs )) +
theme_cowplot(8) +
geom_point(color = "red") +
geom_line(aes(y = pred), color = "black")
styler:::style_active_pkg()
sample
f1 <- factor(letters)
f1
levels(f1) <- rev(levels(f1))
f1
f2 <- rev(factor(letters))
f2
f3 <- factor(letters, levels = rev(letters))
f3
5^5
